/**
 * Функция-конструтор GPS контрола для Яндекс карты
 * @param params Параменры контрола (модель функциональности?)
 * @param options Опции контрола (модель поведения?)
 * @returns GPS контрол
 */
function GeolocationButton(params, options) {
    GeolocationButton.superclass.constructor.call(this, params, options);
}


/**
 * Переменная, предоставляющая доступ к переменной внутри функции init()
 */
var mapOutside;

/**
 * Основной скрипт карты. Инициализирует карту.
 */
ymaps.ready(function init(){
	// Создаем обьект карты
	var myMap = new ymaps.Map('map', {
			center: [52.286387, 104.280660], // Центрируем на сквере кирова
			zoom: 15,
			controls: ['zoomControl']
		});
	
	// Отключаем интерактивность (инфу по клику на значки)
	myMap.options.set('yandexMapDisablePoiInteractivity', true);
	
	// Создаем обьект первоначальной метки
	var myPlacemark = createPlacemark([52.286387, 104.280660]); // Место - сквер кирово
	myMap.geoObjects.add(myPlacemark); // Добавляем метку на карту
	getAddress([52.286387, 104.280660]); // Получаем инфу о месте в хит метки (myPlacemark уже есть в getAddress())
	
	// Временная заплатка - хуярим статичные машины
	var myPlacemark1 = createPlacemarkCar([52.281286, 104.295698], "", 0);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.276495, 104.319302], "", 0);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.272915, 104.298359], "", 30);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.263963, 104.326683], "", 0);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.287129, 104.297157], "", 90);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.265332, 104.264713], "", 30);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.272704, 104.251324], "", 90);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.228243, 104.301964], "", 0);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.236570, 104.302307], "", 30);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.262278, 104.307629], "", 0);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.282286, 104.277416], "", 90);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.284813, 104.302307], "", 30);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.284286, 104.284969], "", 0);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.277864, 104.288403], "", 90);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.274178, 104.286514], "", 30);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.297128, 104.232784], "", 0);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.295549, 104.328056], "", 90);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.293760, 104.341961], "", 30);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.254430, 104.367281], "", 90);
	myMap.geoObjects.add(myPlacemark1);
	myPlacemark1 = createPlacemarkCar([52.276074, 104.321705], "", 0);
	myMap.geoObjects.add(myPlacemark1);
	
	 // Создаем экземпляр класса ymaps.control.SearchControl
    mySearchControl = new ymaps.control.SearchControl({
        options: {
            noPlacemark: false,
            placeholderContent: "Вы можете ввести адрес самому",
            size: "auto"
        }
    }),
	// Результаты поиска будем помещать в коллекцию.
    mySearchResults = new ymaps.GeoObjectCollection(null, {
        hintContentLayout: ymaps.templateLayoutFactory.createClass('$[properties.name]')
    });
    
    // Добавление контрола на карту
	myMap.controls.add(mySearchControl);
	
	// Обработка кликнутых результатов поиска
	mySearchControl.events.add('resultselect', function (e) {
		// Получение результата, по которому был сделан клик
		var index = e.get('index');
	    var test = mySearchControl.getResult(index);
	    
	    // Обработка полученного результата
	    mySearchControl.getResult(index).then(function (res) {
	    	// Получение координат результата
	    	var coords = res.geometry._coordinates;
	    	
			// Если метка уже создана – просто передвигаем ее.
			if (myPlacemark) {
				myPlacemark.geometry.setCoordinates(coords);
			}
			// Если нет – создаем.
			else {
				myPlacemark = createPlacemark(coords);
				myMap.geoObjects.add(myPlacemark);
				
				// TODO: Зачем?
				// Слушаем событие окончания перетаскивания на метке.
				myPlacemark.events.add('dragend', function () {
					getAddress(myPlacemark.geometry.getCoordinates());
				});
			}
			// TODO: Зачем?
			getAddress(coords);
	    	
	    	// Помещаем результат в коллекцию
	       mySearchResults.add(res);
	    });
	}).add('submit', function () { // Очистить результаты поиска при отправке реквеста о получении новых
	        mySearchResults.removeAll();
    })
	
	// Задаем функционал GPS контрола
	ymaps.util.augment(GeolocationButton, ymaps.control.Button, {
		// Добавление контрола на карту
        onAddToMap: function () {
            GeolocationButton.superclass.onAddToMap.apply(this, arguments);
            ymaps.option.presetStorage.add('geolocation#icon', {
                iconImageHref: 'man.png',
                iconImageSize: [27, 26],
                iconImageOffset: [-10, -24]
            });

            // Установка обработчика клика по кнопке
            this.events.add('click', this._onBtnClick, this);
        },
        // Функция удаления контрола
        onRemoveFromMap: function () {
            this.events.remove('click', this._onBtnClick, this);
            this.hint = null;
            ymaps.option.presetStorage.remove('geolocation#icon');

            // Вызов суперкласса
            GeolocationButton.superclass.onRemoveFromMap.apply(this, arguments);
        },
        // Вызывается при клике на кнопку
        _onBtnClick: function (e) {
        	// Отладочные координаты
        	//var coords = [0, 0];
        	// Получение кооднинат с устройства
        	var coords = [parseFloat(window.gpsJavaScriptInterface.getUserLongitude()), parseFloat(window.gpsJavaScriptInterface.getUserLatitude())];

        	// Установить центр карты в точке coords
        	myMap.panTo(coords, {
        		// Разрешает уменьшать и затем увеличивать зум карты при перемещении к заданной точке
                flying: true
            })
        	
			// Если метка уже создана – просто передвигаем ее.
			if (myPlacemark) {
				myPlacemark.geometry.setCoordinates(coords);
			}
			// Если нет – создаем.
			else {
				myPlacemark = createPlacemark(coords);
				myMap.geoObjects.add(myPlacemark);
				// TODO: Удалить
				// Слушаем событие окончания перетаскивания на метке.
				myPlacemark.events.add('dragend', function () {
					getAddress(myPlacemark.geometry.getCoordinates());
				});
			}

        	// TODO: Хачем это?
			getAddress(coords);
        },
        // Создает эффект нажатой кнопки
        toggleIconImage: function (image) {
            this.data.set('image', image);
        }
    });
	
	// Создаем GPS контрол с заданным функционалом
    var button = new GeolocationButton({
        data : {
            image : 'wifi.png',
            title : 'Определить местоположение'
        },
        geolocationOptions: {
            enableHighAccuracy : true // Режим получения наиболее точных данных
        }
    }, {
    	// TODO: Зачем это?
        // Зададим опции для кнопки.
        selectOnClick: false
    });
    // Добавим GPS контрол на карту
    myMap.controls.add(button, { top : 5, left : 5 });

    // Обработка события, возникающего при щелчке левой кнопкой мыши в любой точке карты.
	myMap.events.add('click', function (e) {
		// Получаем координаты косания 
		var coords = e.get('coords');

		// Если метка уже создана – просто передвигаем ее.
		if (myPlacemark) {
			myPlacemark.geometry.setCoordinates(coords);
		}
		// Если нет – создаем.
		else {
			myPlacemark = createPlacemark(coords);
			myMap.geoObjects.add(myPlacemark);
			
			// TODO: Зачем?
			// Слушаем событие окончания перетаскивания на метке.
			myPlacemark.events.add('dragend', function () {
				getAddress(myPlacemark.geometry.getCoordinates());
			});
		}

		// TODO: Зачем?
		getAddress(coords);
	});
	
	/**
	 * Получает информацию о месте в точке данной и записывае ее в хинт метки myPlacemark
	 * @param coords Место, о котором нужно получить информацию
	 */
	function getAddress(coords) {
		// Устанавливаем заглушку, когда информация о месте еще не получена
		myPlacemark.properties.set('iconCaption', 'поиск...');
		
		// Обработка полученной информации
		ymaps.geocode(coords).then(function (res) {
			// Геообьект, находящийся в точке coords
			var firstGeoObject = res.geoObjects.get(0);
			
			// TODO: Нужно сохранять город, чтобы передать его на сервер
			// Сохраняем название населенного пункта или вышестоящее административно-территориальное образование
			var city = firstGeoObject.getLocalities().length ? firstGeoObject.getLocalities() : firstGeoObject.getAdministrativeAreas();

			// Записываем загруженную информацию в хинт myPlacemark
			myPlacemark.properties
				.set({
					// Формируем строку с данными об объекте.
					iconCaption: [
						// Получаем путь до топонима, если метод вернул null, запрашиваем наименование здания. Если и его нет - возвращаем образование внтури района (микрорайон)
						firstGeoObject.getThoroughfare() || firstGeoObject.getPremise() || firstGeoObject.getLocalities()[1],
						// Номер здания
						firstGeoObject.getPremiseNumber()
						
						// Полный адрес метки
						//firstGeoObject.getAddressLine()
					].filter(Boolean).join(', '), // Применяем фильтр, разделяя токены адреса запятой
					
					// Тестовая строка для тестирования GPS
					//balloonContent: window.gpsJavaScriptInterface.getUserLatitude() + "_" + window.gpsJavaScriptInterface.getUserLongitude()
				});
			
			// Информирует окружение о том, что метка была передвинута
			window.updateDataJSInterface.updateAddress(coords[0], coords[1], firstGeoObject.getAddressLine());
			
			// Информируем окружение, что карта загружена
			// TODO: Это лучшее место для этой строки?
			window.mapReadyJSInterface.mapReady();
		});
	}
	
	/**
	 * Создает метку выброра адреса
	 * @param coords Точка, в тоторой нужно создать метку
	 * @return Созданная метка
	 */
	function createPlacemark(coords) {
		return new ymaps.Placemark(coords, {
			iconCaption: 'поиск...'
		}, {
			preset: 'islands#violetDotIconWithCaption',
			draggable: false
		});
	}

	
	// Сохранение готовой карты во внешней переменной
	mapOutside = myMap;
});

/**
 * Создает метку машины такси
 * @param coords Точка, в тоторой нужно создать метку
 * @return Созданная метка
 */
function createPlacemarkCar(coords, sign, rotate) {
	return new ymaps.Placemark(coords, {}, {
		iconLayout: 'default#imageWithContent',
		iconImageHref: 'cars/car' + sign + '' + rotate + '.png',
		iconImageSize: [48, 48],
		
		// Смещает картинку, чтобы "хвостик" метки указывал прямо на точку дороги
		iconImageOffset: [-24, -24],
	    // Смещение слоя с содержимым относительно слоя с картинкой.
	    //iconContentOffset: [15, 15],
		
		preset: 'islands#violetDotIconWithCaption',
		// Отлючает возможность переноса
		draggable: false
	});
}

/**
 * Функция, содержащая в себе координаты точек маршрута для всех меток машин. При вызове,
 * выставляет все метки машин в их s-тую точку (s - внешняя переменная).
 */
function carsDriver() {
	  var car = [
		  // Машина 1
		  [52.219864, 104.246826],
		  [52.220045, 104.247206],
		  [52.220193, 104.247625],
		  [52.220332, 104.247931],
		  [52.220556, 104.248392],
		  [52.220691, 104.248768],
		  [52.220839, 104.249095],
		  [52.220978, 104.249374],
		  [52.221179, 104.249690],
		  [52.221366, 104.249948],
		  [52.221574, 104.250259],
		  [52.221696, 104.250473],
		  [52.221887, 104.250720],
		  [52.222012, 104.250962],
		  [52.222172, 104.251211],
		  [52.222340, 104.251457],
		  [52.222518, 104.251742],
		  [52.222689, 104.251989],
		  [52.222887, 104.252268],
		  [52.223058, 104.252616],
		  [52.223186, 104.252804],
		  [52.223348, 104.253051],
		  [52.223476, 104.253271],
		  [52.223673, 104.253578],
		  [52.223804, 104.253776],
		  [52.224002, 104.254103],
		  [52.224160, 104.254355],
		  [52.224285, 104.254532],
		  [52.224434, 104.254817],
		  [52.224558, 104.255019],
		  [52.224673, 104.255163],
		  [52.224752, 104.255314],
		  [52.224884, 104.255019],
		  [52.225032, 104.254777],
		  [52.225105, 104.254520],
		  [52.225263, 104.254171],
		  [52.225428, 104.253881],
		  [52.225569, 104.253533],
		  [52.225665, 104.253345],
		  [52.225777, 104.253120],
		  [52.225922, 104.252835],
		  [52.226113, 104.252626],
		  [52.226353, 104.252556],
		  [52.226512, 104.252519],
		  [52.226620, 104.252637],
		  [52.226749, 104.252841],
		  [52.226874, 104.253045],
		  [52.227016, 104.253275],
		  [52.227151, 104.253495],
		  [52.227276, 104.253656],
		  [52.227368, 104.253828],
		  [52.227513, 104.254069],
		  [52.227658, 104.254289],
		  [52.227800, 104.254488],
		  [52.227974, 104.254799],
		  [52.228109, 104.255115],
		  [52.228215, 104.255324],
		  [52.228304, 104.255598],
		  [52.228379, 104.255850],
		  [52.228462, 104.256086],
		  [52.228534, 104.256387],
		  [52.228613, 104.256623],
		  [52.228689, 104.256859],
		  [52.228755, 104.257084],
		  [52.228841, 104.257336],
		  [52.228967, 104.257372],
		  [52.229056, 104.257401],
		  [52.229161, 104.257457],
		  [52.229240, 104.257511],
		  [52.229314, 104.257559],
		  [52.229392, 104.257613],
		  [52.229458, 104.257664],
		  [52.229538, 104.257731],
		  [52.229601, 104.257760],
		  [52.229663, 104.257806],
		  [52.229710, 104.257836],
		  [52.229798, 104.257908],
		  [52.229902, 104.257983],
		  [52.230011, 104.258058],
		  [52.230111, 104.258117],
		  [52.230197, 104.258203],
		  [52.230261, 104.258286],
		  [52.230306, 104.258372],
		  [52.230344, 104.258485],
		  [52.230385, 104.258587],
		  [52.230419, 104.258707],
		  [52.230475, 104.258825],
		  [52.230523, 104.258872],
		  [52.230578, 104.258952],
		  [52.230650, 104.259027],
		  [52.230729, 104.259116],
		  [52.230800, 104.259167],
		  [52.230871, 104.259242],
		  [52.230945, 104.259312],
		  [52.231019, 104.259376],
		  [52.231087, 104.259440],
		  [52.231149, 104.259494],
		  [52.231212, 104.259537],
		  [52.231347, 104.259615],
		  [52.231452, 104.259644],
		  [52.231587, 104.259679],
		  [52.231739, 104.259709],
		  [52.231862, 104.259725],
		  [52.231971, 104.259816],
		  [52.232075, 104.259971],
		  [52.232123, 104.260071],
		  [52.232165, 104.260130],
		  [52.232220, 104.260216],
		  [52.232281, 104.260320],
		  [52.232349, 104.260415],
		  [52.232385, 104.260512],
		  [52.232441, 104.260573],
		  [52.232509, 104.260678],
		  [52.232583, 104.260756],
		  [52.232654, 104.260842],
		  [52.232718, 104.260903],
		  [52.232779, 104.260968],
		  [52.232845, 104.261043],
		  [52.232910, 104.261112],
		  [52.232983, 104.261163],
		  [52.233052, 104.261236],
		  [52.233141, 104.261332],
		  [52.233199, 104.261375],
		  [52.233250, 104.261424],
		  [52.233304, 104.261472],
		  [52.233400, 104.261571],
		  [52.233510, 104.261657],
		  [52.233612, 104.261764],
		  [52.233734, 104.261877],
		  [52.233849, 104.261976],
		  [52.233951, 104.262070],
		  [52.234068, 104.262164],
		  [52.234193, 104.262258],
		  [52.234233, 104.262325],
		  [52.234305, 104.262376],
		  [52.234373, 104.262435],
		  [52.234435, 104.262488],
		  [52.234501, 104.262561],
		  [52.234580, 104.262647],
		  [52.234630, 104.262749],
		  [52.234679, 104.262867],
		  [52.234717, 104.262950],
		  [52.234770, 104.263065],
		  [52.234854, 104.263113],
		  [52.234921, 104.263156],
		  [52.234989, 104.263180],
		  [52.235048, 104.263202],
		  [52.235157, 104.263247],
		  [52.235269, 104.263298],
		  [52.235371, 104.263344],
		  [52.235491, 104.263398],
		  [52.235626, 104.263454],
		  [52.235748, 104.263521],
		  [52.235883, 104.263575],
		  [52.236016, 104.263642],
		  [52.236145, 104.263687],
		  [52.236290, 104.263762],
		  [52.236425, 104.263815],
		  [52.236565, 104.263885],
		  [52.236703, 104.263968],
		  [52.236800, 104.264006],
		  [52.236932, 104.264091],
		  [52.237070, 104.264158],
		  [52.237187, 104.264217],
		  [52.237283, 104.264266],
		  [52.237423, 104.264346],
		  [52.237566, 104.264413],
		  [52.237704, 104.264499],
		  [52.237843, 104.264558],
		  [52.237970, 104.264636],
		  [52.238040, 104.264698],
		  [52.238080, 104.264740],
	  
		  // Машина 2
		  [52.275816, 104.287387],
		  [52.275701, 104.287709],
		  [52.275552, 104.287940],
		  [52.275460, 104.288197],
		  [52.275460, 104.288202],
		  [52.275368, 104.288417],
		  [52.275289, 104.288540],
		  [52.275154, 104.288798],
		  [52.275095, 104.288937],
		  [52.274980, 104.289152],
		  [52.274907, 104.289329],
		  [52.274809, 104.289447],
		  [52.274727, 104.289678],
		  [52.274651, 104.289828],
		  [52.274546, 104.290026],
		  [52.274486, 104.290144],
		  [52.274417, 104.290300],
		  [52.274302, 104.290514],
		  [52.274230, 104.290702],
		  [52.274128, 104.290842],
		  [52.274052, 104.291019],
		  [52.273983, 104.291142],
		  [52.273920, 104.291298],
		  [52.273845, 104.291437],
		  [52.273792, 104.291587],
		  [52.273769, 104.291786],
		  [52.273752, 104.292022],
		  [52.273723, 104.292242],
		  [52.273716, 104.292419],
		  [52.273690, 104.292596],
		  [52.273680, 104.292848],
		  [52.273654, 104.293202],
		  [52.273624, 104.293443],
		  [52.273611, 104.293653],
		  [52.273608, 104.293862],
		  [52.273581, 104.294098],
		  [52.273571, 104.294275],
		  [52.273565, 104.294516],
		  [52.273575, 104.294720],
		  [52.273598, 104.294945],
		  [52.273641, 104.295155],
		  [52.273677, 104.295348],
		  [52.273710, 104.295568],
		  [52.273749, 104.295831],
		  [52.273818, 104.296088],
		  [52.273841, 104.296260],
		  [52.273874, 104.296437],
		  [52.273917, 104.296635],
		  [52.273930, 104.296775],
		  [52.273989, 104.297005],
		  [52.274032, 104.297247],
		  [52.274095, 104.297461],
		  [52.274108, 104.297697],
		  [52.274164, 104.297907],
		  [52.274187, 104.298110],
		  [52.274236, 104.298271],
		  [52.274272, 104.298470],
		  [52.274318, 104.298620],
		  [52.274368, 104.298797],
		  [52.274368, 104.298797],
		  [52.274414, 104.299146],
		  [52.274447, 104.299296],
		  [52.274473, 104.299489],
		  [52.274516, 104.299671],
		  [52.274539, 104.299816],
		  [52.274592, 104.299993],
		  [52.274638, 104.300235],
		  [52.274664, 104.300439],
		  [52.274730, 104.300648],
		  [52.274763, 104.300836],
		  [52.274792, 104.301061],
		  [52.274838, 104.301238],
		  [52.274881, 104.301388],
		  [52.274914, 104.301576],
		  [52.274957, 104.301742],
		  [52.274986, 104.301935],
		  [52.275023, 104.302155],
		  [52.275065, 104.302338],
		  [52.275131, 104.302541],
		  [52.275164, 104.302783],
		  [52.275223, 104.303014],
		  [52.275260, 104.303207],
		  [52.275309, 104.303384],
		  [52.275342, 104.303545],
		  [52.275378, 104.303668],
		  [52.275398, 104.303850],
		  [52.275431, 104.303968],
		  [52.275533, 104.303968],
		  [52.275661, 104.303909],
		  [52.275826, 104.303824],
		  [52.276030, 104.303706],
		  [52.276158, 104.303620],
		  [52.276280, 104.303550],
		  [52.276365, 104.303614],
		  [52.276411, 104.303765],
		  [52.276444, 104.303947],
		  [52.276480, 104.304108],
		  [52.276500, 104.304285],
		  [52.276549, 104.304462],
		  [52.276589, 104.304676],
		  [52.276642, 104.304939],
		  [52.276684, 104.305116],
		  [52.276730, 104.305352],
		  [52.276773, 104.305551],
		  [52.276800, 104.305749],
		  [52.276836, 104.305894],
		  [52.276865, 104.306071],
		  [52.276888, 104.306211],
		  [52.276928, 104.306361],
		  [52.276944, 104.306506],
		  [52.276958, 104.306688],
		  [52.277000, 104.306854],
		  [52.277040, 104.307026],
		  [52.277083, 104.307209],
		  [52.277109, 104.307428],
		  [52.277125, 104.307622],
		  [52.277152, 104.307809],
		  [52.277181, 104.307933],
		  [52.277194, 104.308078],
		  [52.277234, 104.308228],
		  [52.277277, 104.308410],
		  [52.277293, 104.308555],
		  [52.277316, 104.308716],
		  [52.277346, 104.308834],
		  [52.277395, 104.309041],
		  [52.277457, 104.309475],
		  [52.277484, 104.309588],
		  [52.277520, 104.309775],
		  [52.277530, 104.309936],
		  [52.277559, 104.310060],
		  [52.277592, 104.310210],
		  [52.277615, 104.310344],
		  [52.277635, 104.310462],
		  [52.277655, 104.310618],
		  [52.277675, 104.310779],
		  [52.277704, 104.310945],
		  [52.277744, 104.311133],
		  [52.277767, 104.311288],
		  [52.277800, 104.311449],
		  [52.277819, 104.311578],
		  [52.277862, 104.311723],
		  [52.277879, 104.311868],
		  [52.277892, 104.311991],
		  [52.277921, 104.312136],
		  [52.277951, 104.312318],
		  [52.277997, 104.312527],
		  [52.278014, 104.312704],
		  [52.278050, 104.312940],
		  [52.278086, 104.313187],
		  [52.278168, 104.313303],
		  [52.278209, 104.313273],
		  [52.278257, 104.313252],
		  [52.278325, 104.313227],
		  [52.278374, 104.313190],
		  [52.278430, 104.313166],
		  [52.278413, 104.313069],
		  [52.278392, 104.312989],
		  [52.278379, 104.312863],
		  [52.278380, 104.312739],
		  [52.278392, 104.312611],
		  [52.278418, 104.312527],
		  [52.278418, 104.312527],
		  [52.278418, 104.312527],
		  [52.278418, 104.312527],
		  [52.278418, 104.312527],
		  [52.278418, 104.312527],
		  [52.278418, 104.312527],
		  [52.278418, 104.312527],
		  [52.278418, 104.312527],
		  [52.278418, 104.312527],
		  [52.278418, 104.312527],
		  [52.278418, 104.312527],
		  
		  // Машина 3
		  [52.278508, 104.284062],
		  [52.278591, 104.283961],
		  [52.278706, 104.283848],
		  [52.278821, 104.283751],
		  [52.278936, 104.283644],
		  [52.279055, 104.283553],
		  [52.279104, 104.283499],
		  [52.279177, 104.283453],
		  [52.279240, 104.283362],
		  [52.279332, 104.283287],
		  [52.279421, 104.283185],
		  [52.279493, 104.283120],
		  [52.279598, 104.283035],
		  [52.279668, 104.282954],
		  [52.279809, 104.282841],
		  [52.279888, 104.282793],
		  [52.279990, 104.282697],
		  [52.280066, 104.282589],
		  [52.280158, 104.282536],
		  [52.280250, 104.282477],
		  [52.280381, 104.282402],
		  [52.280451, 104.282300],
		  [52.280553, 104.282219],
		  [52.280645, 104.282166],
		  [52.280704, 104.282117],
		  [52.280819, 104.282031],
		  [52.280944, 104.281951],
		  [52.281043, 104.281865],
		  [52.281148, 104.281795],
		  [52.281257, 104.281704],
		  [52.281372, 104.281612],
		  [52.281437, 104.281559],
		  [52.281531, 104.281500],
		  [52.281607, 104.281462],
		  [52.281661, 104.281400],
		  [52.281724, 104.281371],
		  [52.281786, 104.281299],
		  [52.281850, 104.281256],
		  [52.281969, 104.281172],
		  [52.282027, 104.281135],
		  [52.282073, 104.281094],
		  [52.282138, 104.281065],
		  [52.282171, 104.281097],
		  [52.282204, 104.281151],
		  [52.282237, 104.281218],
		  [52.282265, 104.281282],
		  [52.282301, 104.281336],
		  [52.282339, 104.281397],
		  [52.282367, 104.281457],
		  [52.282408, 104.281537],
		  [52.282448, 104.281609],
		  [52.282486, 104.281668],
		  [52.282522, 104.281741],
		  [52.282563, 104.281805],
		  [52.282601, 104.281891],
		  [52.282630, 104.281939],
		  [52.282678, 104.282020],
		  [52.282736, 104.282143],
		  [52.282782, 104.282210],
		  [52.282801, 104.282285],
		  [52.282843, 104.282331],
		  [52.282877, 104.282401],
		  [52.282890, 104.282444],
		  [52.282946, 104.282543],
		  [52.282992, 104.282615],
		  [52.283022, 104.282701],
		  [52.283028, 104.282709],
		  [52.283073, 104.282771],
		  [52.283104, 104.282841],
		  [52.283135, 104.282889],
		  [52.283183, 104.282967],
		  [52.283204, 104.283050],
		  [52.283241, 104.283106],
		  [52.283282, 104.283187],
		  [52.283333, 104.283267],
		  [52.283356, 104.283345],
		  [52.283399, 104.283423],
		  [52.283441, 104.283476],
		  [52.283482, 104.283565],
		  [52.283514, 104.283648],
		  [52.283565, 104.283710],
		  [52.283596, 104.283766],
		  [52.283626, 104.283833],
		  [52.283652, 104.283900],
		  [52.283681, 104.283951],
		  [52.283703, 104.283997],
		  [52.283732, 104.284050],
		  [52.283770, 104.284117],
		  [52.283813, 104.284195],
		  [52.283844, 104.284270],
		  [52.283879, 104.284337],
		  [52.283917, 104.284412],
		  [52.283955, 104.284474],
		  [52.283991, 104.284530],
		  [52.284035, 104.284643],
		  [52.284080, 104.284715],
		  [52.284104, 104.284801],
		  [52.284144, 104.284855],
		  [52.284182, 104.284943],
		  [52.284211, 104.284994],
		  [52.284242, 104.285059],
		  [52.284277, 104.285139],
		  [52.284298, 104.285185],
		  [52.284325, 104.285238],
		  [52.284344, 104.285260],
		  [52.284374, 104.285338],
		  [52.284387, 104.285383],
		  [52.284430, 104.285464],
		  [52.284474, 104.285550],
		  [52.284522, 104.285657],
		  [52.284568, 104.285740],
		  [52.284599, 104.285791],
		  [52.284632, 104.285863],
		  [52.284662, 104.285957],
		  [52.284713, 104.286086],
		  [52.284767, 104.286172],
		  [52.284803, 104.286244],
		  [52.284835, 104.286343],
		  [52.284877, 104.286413],
		  [52.284923, 104.286494],
		  [52.284966, 104.286585],
		  [52.285004, 104.286679],
		  [52.285037, 104.286770],
		  [52.285099, 104.286899],
		  [52.285136, 104.286982],
		  [52.285188, 104.287103],
		  [52.285231, 104.287188],
		  [52.285274, 104.287272],
		  [52.285300, 104.287336],
		  [52.285396, 104.287506],
		  [52.285436, 104.287629],
		  [52.285482, 104.287720],
		  [52.285529, 104.287817],
		  [52.285569, 104.287889],
		  [52.285605, 104.287980],
		  [52.285648, 104.288069],
		  [52.285689, 104.288176],
		  [52.285742, 104.288270],
		  [52.285778, 104.288353],
		  [52.285803, 104.288420],
		  [52.285830, 104.288493],
		  [52.285801, 104.288568],
		  [52.285847, 104.288546],
		  [52.285896, 104.288455],
		  [52.285995, 104.288330],
		  [52.286056, 104.288247],
		  [52.286113, 104.288172],
		  [52.286161, 104.288094],
		  [52.286275, 104.287947],
		  [52.286349, 104.287845],
		  [52.286405, 104.287735],
		  [52.286495, 104.287665],
		  [52.286563, 104.287568],
		  [52.286625, 104.287499],
		  [52.286674, 104.287424],
		  [52.286689, 104.287330],
		  [52.286699, 104.287241],
		  [52.286699, 104.287241],
		  [52.286699, 104.287241],
		  [52.286699, 104.287241],
		  [52.286699, 104.287241],
		  [52.286699, 104.287241],
		  [52.286699, 104.287241],
		  [52.286699, 104.287241],
		  [52.286699, 104.287241],
		  [52.286699, 104.287241],
		  [52.286699, 104.287241],
		  [52.286699, 104.287241],
		  [52.286699, 104.287241],
		  [52.286699, 104.287241],
		  [52.286699, 104.287241],
		  [52.286699, 104.287241],
		  
		  // Машина 4
		  [52.282962, 104.259390],
		  [52.282921, 104.259312],
		  [52.282848, 104.259285],
		  [52.282779, 104.259232],
		  [52.282738, 104.259175],
		  [52.282690, 104.259181],
		  [52.282636, 104.259202],
		  [52.282587, 104.259199],
		  [52.282522, 104.259224],
		  [52.282499, 104.259234],
		  [52.282396, 104.259275],
		  [52.282346, 104.259283],
		  [52.282279, 104.259317],
		  [52.282198, 104.259347],
		  [52.282114, 104.259360],
		  [52.282055, 104.259395],
		  [52.281991, 104.259379],
		  [52.281922, 104.259288],
		  [52.281841, 104.259197],
		  [52.281779, 104.259127],
		  [52.281703, 104.259044],
		  [52.281670, 104.259022],
		  [52.281603, 104.258955],
		  [52.281512, 104.258888],
		  [52.281445, 104.258792],
		  [52.281387, 104.258738],
		  [52.281310, 104.258650],
		  [52.281254, 104.258558],
		  [52.281197, 104.258475],
		  [52.281129, 104.258395],
		  [52.281060, 104.258290],
		  [52.280986, 104.258194],
		  [52.280914, 104.258097],
		  [52.280863, 104.257998],
		  [52.280795, 104.257909],
		  [52.280715, 104.257799],
		  [52.280659, 104.257711],
		  [52.280599, 104.257587],
		  [52.280538, 104.257472],
		  [52.280464, 104.257325],
		  [52.280409, 104.257166],
		  [52.280356, 104.257046],
		  [52.280288, 104.256895],
		  [52.280221, 104.256735],
		  [52.280165, 104.256606],
		  [52.280076, 104.256403],
		  [52.280010, 104.256223],
		  [52.279939, 104.256022],
		  [52.279870, 104.255880],
		  [52.279800, 104.255773],
		  [52.279765, 104.255636],
		  [52.279653, 104.255687],
		  [52.279554, 104.255749],
		  [52.279459, 104.255781],
		  [52.279365, 104.255808],
		  [52.279283, 104.255869],
		  [52.279186, 104.255934],
		  [52.279067, 104.255971],
		  [52.278936, 104.256068],
		  [52.278799, 104.256113],
		  [52.278691, 104.256167],
		  [52.278572, 104.256253],
		  [52.278472, 104.256290],
		  [52.278368, 104.256368],
		  [52.278253, 104.256425],
		  [52.278148, 104.256473],
		  [52.278051, 104.256532],
		  [52.277937, 104.256569],
		  [52.277852, 104.256642],
		  [52.277760, 104.256669],
		  [52.277662, 104.256722],
		  [52.277569, 104.256776],
		  [52.277496, 104.256816],
		  [52.277384, 104.256867],
		  [52.277286, 104.256921],
		  [52.277208, 104.256966],
		  [52.277105, 104.257025],
		  [52.277001, 104.257063],
		  [52.276899, 104.257111],
		  [52.276782, 104.257208],
		  [52.276684, 104.257221],
		  [52.276586, 104.257288],
		  [52.276504, 104.257320],
		  [52.276394, 104.257382],
		  [52.276313, 104.257425],
		  [52.276231, 104.257465],
		  [52.276152, 104.257503],
		  [52.276075, 104.257543],
		  [52.276009, 104.257583],
		  [52.275912, 104.257626],
		  [52.275835, 104.257642],
		  [52.275807, 104.257505],
		  [52.275772, 104.257363],
		  [52.275744, 104.257237],
		  [52.275718, 104.257090],
		  [52.275693, 104.256972],
		  [52.275667, 104.256808],
		  [52.275454, 104.255934],
		  [52.275434, 104.255794],
		  [52.275408, 104.255647],
		  [52.275378, 104.255531],
		  [52.275339, 104.255354],
		  [52.275302, 104.255172],
		  [52.275276, 104.255038],
		  [52.275251, 104.254872],
		  [52.275207, 104.254705],
		  [52.275174, 104.254536],
		  [52.275139, 104.254367],
		  [52.275095, 104.254174],
		  [52.275062, 104.254056],
		  [52.275014, 104.253833],
		  [52.274949, 104.253603],
		  [52.274909, 104.253541],
		  [52.274788, 104.253581],
		  [52.274698, 104.253624],
		  [52.274606, 104.253656],
		  [52.274518, 104.253718],
		  [52.274477, 104.253718],
		  [52.274388, 104.253788],
		  [52.274298, 104.253796],
		  [52.274211, 104.253850],
		  [52.274151, 104.253911],
		  [52.274074, 104.253943],
		  [52.273990, 104.253986],
		  [52.273918, 104.254037],
		  [52.273822, 104.254070],
		  [52.273714, 104.254137],
		  [52.273622, 104.254185],
		  [52.273546, 104.254230],
		  [52.273475, 104.254247],
		  [52.273395, 104.254298],
		  [52.273286, 104.254359],
		  [52.273186, 104.254407],
		  [52.273049, 104.254469],
		  [52.273067, 104.254485],
		  [52.272944, 104.254515],
		  [52.272837, 104.254585],
		  [52.272728, 104.254668],
		  [52.272656, 104.254700],
		  [52.272580, 104.254735],
		  [52.272476, 104.254772],
		  [52.272389, 104.254839],
		  [52.272310, 104.254877],
		  [52.272230, 104.254914],
		  [52.272171, 104.254952],
		  [52.272106, 104.254992],
		  [52.272036, 104.255024],
		  [52.271952, 104.255048],
		  [52.271866, 104.255107],
		  [52.271779, 104.255150],
		  [52.271700, 104.255207],
		  [52.271628, 104.255242],
		  [52.271555, 104.255271],
		  [52.271485, 104.255309],
		  [52.271397, 104.255360],
		  [52.271259, 104.255424],
		  [52.271213, 104.255255],
		  [52.271167, 104.255046],
		  [52.271129, 104.254847],
		  [52.271078, 104.254641],
		  [52.271011, 104.254311],
		  [52.271009, 104.254094],
		  [52.271124, 104.254027],
		  [52.271124, 104.254027],
		  [52.271124, 104.254027],
		  [52.271124, 104.254027],
		  [52.271124, 104.254027],
		  [52.271124, 104.254027],
		  [52.271124, 104.254027],
		  [52.271124, 104.254027],
		  [52.271124, 104.254027],
		  [52.271124, 104.254027],
		  
		  // машина 5
		  [52.269133, 104.246372],
		  [52.269120, 104.246683],
		  [52.269139, 104.247102],
		  [52.269271, 104.247391],
		  [52.269324, 104.247896],
		  [52.269403, 104.248368],
		  [52.269534, 104.248647],
		  [52.269561, 104.249097],
		  [52.269633, 104.249612],
		  [52.269778, 104.250149],
		  [52.269824, 104.250589],
		  [52.269936, 104.250953],
		  [52.270067, 104.251490],
		  [52.270094, 104.251887],
		  [52.270232, 104.252402],
		  [52.270337, 104.252745],
		  [52.270403, 104.253206],
		  [52.270502, 104.253711],
		  [52.270553, 104.253902],
		  [52.270652, 104.254332],
		  [52.270684, 104.254643],
		  [52.270796, 104.255072],
		  [52.270862, 104.255522],
		  [52.270665, 104.255716],
		  [52.270395, 104.255887],
		  [52.270053, 104.256091],
		  [52.269743, 104.256209],
		  [52.269440, 104.256392],
		  [52.269190, 104.256477],
		  [52.268881, 104.256606],
		  [52.268624, 104.256756],
		  [52.268275, 104.257014],
		  [52.267946, 104.257110],
		  [52.267611, 104.257400],
		  [52.267268, 104.257518],
		  [52.266900, 104.257743],
		  [52.266544, 104.257904],
		  [52.266222, 104.258076],
		  [52.265754, 104.258307],
		  [52.265488, 104.258451],
		  [52.265192, 104.258543],
		  [52.264971, 104.258655],
		  [52.264770, 104.258725],
		  [52.264606, 104.258832],
		  [52.264411, 104.258924],
		  [52.264237, 104.258972],
		  [52.263977, 104.259149],
		  [52.263664, 104.259275],
		  [52.263602, 104.259302],
		  [52.263315, 104.259425],
		  [52.262999, 104.259623],
		  [52.262808, 104.259699],
		  [52.262640, 104.259822],
		  [52.262351, 104.259940],
		  [52.261907, 104.260206],
		  [52.261420, 104.260485],
		  [52.260669, 104.260786],
		  [52.260209, 104.261129],
		  [52.259682, 104.261344],
		  [52.259142, 104.261558],
		  [52.258642, 104.261923],
		  [52.258392, 104.261944],
		  [52.257628, 104.262374],
		  [52.256798, 104.262781],
		  [52.256179, 104.263017],
		  [52.255593, 104.263092],
		  [52.254981, 104.263189],
		  [52.254309, 104.263286],
		  [52.253802, 104.263275],
		  [52.253256, 104.263296],
		  [52.252788, 104.263350],
		  [52.252288, 104.263425],
		  [52.251814, 104.263672],
		  [52.251412, 104.263801],
		  [52.250997, 104.264187],
		  [52.250576, 104.264562],
		  [52.250293, 104.264981],
		  [52.249970, 104.265388],
		  [52.249687, 104.265807],
		  [52.249266, 104.266375],
		  [52.249068, 104.266858],
		  [52.248831, 104.267159],
		  [52.248607, 104.267545],
		  [52.248337, 104.267888],
		  [52.248028, 104.268264],
		  [52.247744, 104.268521],
		  [52.247441, 104.268972],
		  [52.247106, 104.269165],
		  [52.246743, 104.269540],
		  [52.246493, 104.269744],
		  [52.246157, 104.269980],
		  [52.245841, 104.270152],
		  [52.245479, 104.270377],
		  [52.245066, 104.270662],
		  [52.244770, 104.270887],
		  [52.244572, 104.270941],
		  [52.244349, 104.271016],
		  [52.244013, 104.271274],
		  [52.243670, 104.271413],
		  [52.243400, 104.271606],
		  [52.243064, 104.271810],
		  [52.242959, 104.272035],
		  [52.242768, 104.271990],
		  [52.242700, 104.271794],
		  [52.242603, 104.271550],
		  [52.242549, 104.271394],
		  [52.242480, 104.271204],
		  [52.242406, 104.271000],
		  [52.242337, 104.270818],
		  [52.242282, 104.270632],
		  [52.242241, 104.270506],
		  [52.242225, 104.270329],
		  [52.242198, 104.270209],
		  [52.242114, 104.270128],
		  [52.242033, 104.270120],
		  [52.241945, 104.270123],
		  [52.241859, 104.270104],
		  [52.241765, 104.270099],
		  [52.241689, 104.270091],
		  [52.241576, 104.270096],
		  [52.241472, 104.270083],
		  [52.241335, 104.270029],
		  [52.241482, 104.270107],
		  [52.241314, 104.270005],
		  [52.241182, 104.269903],
		  [52.241054, 104.269742],
		  [52.240960, 104.269798],
		  [52.240859, 104.269932],
		  [52.240794, 104.270101],
		  [52.240715, 104.270233],
		  [52.240650, 104.270367],
		  [52.240634, 104.270412],
		  [52.240571, 104.270525],
		  [52.240514, 104.270670],
		  [52.240500, 104.270710],
		  [52.240435, 104.270815],
		  [52.240381, 104.270933],
		  [52.240315, 104.271067],
		  [52.240238, 104.271206],
		  [52.240146, 104.271375],
		  [52.240020, 104.271341],
		  [52.239843, 104.271357],
		  [52.239754, 104.271367],
		  [52.239670, 104.271343],
		  [52.239582, 104.271375],
		  [52.239512, 104.271370],
		  [52.239424, 104.271354],
		  [52.239357, 104.271332],
		  [52.239291, 104.271239],
		  [52.239200, 104.271201],
		  [52.239097, 104.271185],
		  [52.239018, 104.271166],
		  [52.238914, 104.271177],
		  [52.238817, 104.271185],
		  [52.238703, 104.271158],
		  [52.238672, 104.271045],
		  [52.238614, 104.271032],
		  [52.238543, 104.271032],
		  [52.238492, 104.270997],
		  [52.238443, 104.270976],
		  [52.238379, 104.270970],
		  [52.238379, 104.270970],
		  [52.238379, 104.270970],
		  [52.238379, 104.270970],
		  [52.238379, 104.270970],
		  [52.238379, 104.270970],
		  [52.238379, 104.270970],
		  [52.238379, 104.270970],
		  [52.238379, 104.270970],
		  [52.238379, 104.270970],
		  [52.238379, 104.270970],
		  [52.238379, 104.270970],
		  
		  // машина 6
		  [52.281261, 104.294225],
		  [52.281380, 104.294059],
		  [52.281505, 104.293769],
		  [52.281505, 104.293769],
		  [52.281765, 104.293265],
		  [52.281883, 104.293034],
		  [52.281979, 104.292809],
		  [52.281979, 104.292809],
		  [52.281979, 104.292809],
		  [52.281979, 104.292809],
		  [52.281979, 104.292809],
		  [52.281979, 104.292809],
		  [52.281979, 104.292809],
		  [52.281979, 104.292809],
		  [52.282094, 104.292857],
		  [52.282206, 104.292997],
		  [52.282331, 104.293206],
		  [52.282472, 104.293378],
		  [52.282601, 104.293469],
		  [52.282726, 104.293673],
		  [52.282854, 104.293780],
		  [52.282969, 104.294005],
		  [52.283104, 104.294118],
		  [52.283239, 104.294257],
		  [52.283426, 104.294536],
		  [52.283558, 104.294713],
		  [52.283722, 104.294923],
		  [52.283851, 104.295057],
		  [52.283989, 104.295261],
		  [52.284074, 104.295035],
		  [52.284130, 104.294907],
		  [52.284272, 104.294617],
		  [52.284456, 104.294268],
		  [52.284594, 104.294043],
		  [52.284746, 104.293785],
		  [52.284894, 104.293528],
		  [52.285035, 104.293238],
		  [52.285209, 104.292948],
		  [52.285321, 104.292723],
		  [52.285417, 104.292493],
		  [52.285555, 104.292278],
		  [52.285683, 104.292053],
		  [52.285785, 104.291860],
		  [52.285887, 104.291666],
		  [52.285992, 104.291468],
		  [52.286108, 104.291237],
		  [52.286236, 104.290948],
		  [52.286341, 104.290771],
		  [52.286427, 104.290594],
		  [52.286502, 104.290459],
		  [52.286404, 104.290304],
		  [52.286239, 104.290100],
		  [52.286094, 104.289875],
		  [52.285940, 104.289692],
		  [52.285529, 104.289226],
		  [52.285371, 104.289049],
		  [52.285183, 104.288807],
		  [52.284996, 104.288614],
		  [52.284805, 104.288378],
		  [52.284561, 104.288094],
		  [52.284390, 104.287890],
		  [52.284216, 104.287675],
		  [52.284091, 104.287504],
		  [52.283887, 104.287235],
		  [52.283683, 104.287021],
		  [52.283532, 104.286828],
		  [52.283370, 104.286592],
		  [52.283209, 104.286409],
		  [52.283120, 104.286238],
		  [52.283216, 104.286114],
		  [52.283370, 104.285862],
		  [52.283518, 104.285637],
		  [52.283696, 104.285374],
		  [52.283874, 104.285138],
		  [52.283976, 104.284918],
		  [52.284121, 104.284709],
		  [52.284311, 104.284462],
		  [52.284459, 104.284204],
		  [52.284644, 104.283952],
		  [52.284825, 104.283743],
		  [52.284973, 104.283529],
		  [52.285111, 104.283325],
		  [52.285331, 104.283105],
		  [52.285535, 104.282938],
		  [52.285663, 104.282820],
		  [52.285874, 104.282563],
		  [52.286016, 104.282504],
		  [52.286180, 104.282354],
		  [52.286295, 104.282220],
		  [52.286469, 104.282112],
		  [52.286624, 104.282000],
		  [52.286785, 104.281876],
		  [52.287006, 104.281812],
		  [52.287322, 104.281812],
		  [52.287601, 104.281791],
		  [52.287864, 104.281780],
		  [52.288085, 104.281791],
		  [52.288348, 104.281774],
		  [52.288631, 104.281699],
		  [52.288884, 104.281699],
		  [281753],
		  [52.289374, 104.281715],
		  [52.289318, 104.281372],
		  [52.289197, 104.280755],
		  [52.289131, 104.280074],
		  [52.289016, 104.279736],
		  [52.288838, 104.279495],
		  [52.288667, 104.279462],
		  [52.288473, 104.279527],
		  [52.288285, 104.279559],
		  [52.288128, 104.279570],
		  [52.287960, 104.279634],
		  [52.287743, 104.279688],
		  [52.287568, 104.279757],
		  [52.287427, 104.279811],
		  [52.287328, 104.279832],
		  [52.287279, 104.279681],
		  [52.287214, 104.279520],
		  [52.287092, 104.279188],
		  [52.287016, 104.279038],
		  [52.286934, 104.278834],
		  [52.286849, 104.278678],
		  [52.286737, 104.278421],
		  [52.286631, 104.278158],
		  [52.286477, 104.277852],
		  [52.286371, 104.277573],
		  [52.286270, 104.277353],
		  [52.286197, 104.277155],
		  [52.286039, 104.277262],
		  [52.285904, 104.277385],
		  [52.285714, 104.277471],
		  [52.285579, 104.277611],
		  [52.285427, 104.277718],
		  [52.285260, 104.277857],
		  [52.285128, 104.277932],
		  [52.284963, 104.278051],
		  [52.284766, 104.278104],
		  [52.284625, 104.278244],
		  [52.284454, 104.278324],
		  [52.284296, 104.278480],
		  [52.284141, 104.278560],
		  [52.283970, 104.278635],
		  [52.283884, 104.278721],
		  [52.283782, 104.278517],
		  [52.283671, 104.278211],
		  [52.283601, 104.278029],
		  [52.283506, 104.277793],
		  [52.283417, 104.277541],
		  [52.283322, 104.277396],
		  [52.283322, 104.277396],
		  [52.283322, 104.277396],
		  [52.283322, 104.277396],
		  [52.283322, 104.277396],
		  [52.283322, 104.277396],
		  [52.283322, 104.277396],
		  [52.283322, 104.277396],
		  [52.283322, 104.277396],
		  [52.283322, 104.277396],
		  [52.283220, 104.277203],
		  [52.283203, 104.277026],
		  [52.283318, 104.276801],
		  [52.283345, 104.276538],
		  [52.283401, 104.276398],
		  [52.283506, 104.276296],
		  [52.283506, 104.276296],
		  [52.283506, 104.276296],
		  [52.283506, 104.276296],
		  [52.283506, 104.276296],
		  [52.283506, 104.276296],
		  [52.283506, 104.276296],
		  [52.283506, 104.276296],
		  [52.283506, 104.276296],
		  
		  // машина 7
		  [52.289524, 104.293428],
		  [52.289412, 104.293621],
		  [52.289347, 104.293819],
		  [52.289248, 104.294013],
		  [52.289166, 104.294152],
		  [52.289074, 104.294356],
		  [52.288949, 104.294570],
		  [52.288860, 104.294731],
		  [52.288781, 104.294925],
		  [52.288669, 104.295102],
		  [52.288541, 104.295305],
		  [52.288396, 104.295558],
		  [52.288310, 104.295745],
		  [52.288202, 104.295933],
		  [52.288070, 104.296191],
		  [52.287899, 104.296502],
		  [52.287791, 104.296738],
		  [52.287653, 104.297011],
		  [52.287544, 104.297172],
		  [52.287426, 104.297414],
		  [52.287287, 104.297634],
		  [52.287192, 104.297827],
		  [52.287077, 104.297998],
		  [52.287001, 104.298175],
		  [52.286902, 104.298374],
		  [52.286774, 104.298583],
		  [52.286883, 104.298744],
		  [52.287024, 104.298873],
		  [52.287143, 104.299001],
		  [52.287284, 104.299146],
		  [52.287386, 104.299329],
		  [52.287514, 104.299495],
		  [52.287643, 104.299629],
		  [52.287738, 104.299742],
		  [52.287738, 104.299742],
		  [52.287738, 104.299742],
		  [52.287738, 104.299742],
		  [52.287738, 104.299742],
		  [52.287738, 104.299742],
		  [52.287738, 104.299742],
		  [52.287738, 104.299742],
		  [52.287738, 104.299742],
		  [52.287738, 104.299742],
		  [52.287738, 104.299742],
		  [52.287738, 104.299742],
		  [52.287738, 104.299742],
		  [52.287830, 104.299849],
		  [52.287962, 104.300010],
		  [52.288054, 104.300112],
		  [52.288179, 104.300300],
		  [52.288294, 104.300477],
		  [52.288409, 104.300600],
		  [52.288541, 104.300723],
		  [52.288702, 104.300917],
		  [52.288843, 104.301115],
		  [52.289014, 104.301319],
		  [52.289172, 104.301485],
		  [52.289284, 104.301625],
		  [52.289475, 104.301786],
		  [52.289659, 104.302022],
		  [52.289807, 104.302188],
		  [52.289936, 104.302295],
		  [52.290028, 104.302290],
		  [52.290103, 104.302027],
		  [52.290176, 104.301791],
		  [52.290228, 104.301496],
		  [52.290314, 104.301217],
		  [52.290396, 104.300761],
		  [52.290482, 104.300380],
		  [52.290577, 104.299972],
		  [52.290620, 104.299688],
		  [52.290676, 104.299377],
		  [52.290741, 104.299136],
		  [52.290797, 104.298857],
		  [52.290870, 104.298476],
		  [52.290975, 104.298014],
		  [52.291054, 104.297623],
		  [52.291093, 104.297355],
		  [52.291189, 104.297006],
		  [52.291455, 104.296496],
		  [52.291646, 104.296496],
		  [52.291817, 104.296507],
		  [52.291991, 104.296566],
		  [52.292189, 104.296593],
		  [52.292337, 104.296641],
		  [52.292491, 104.296743],
		  [52.292636, 104.296797],
		  [52.292804, 104.296909],
		  [52.292949, 104.297011],
		  [52.293116, 104.297076],
		  [52.293324, 104.297183],
		  [52.293498, 104.297285],
		  [52.293692, 104.297355],
		  [52.293840, 104.297392],
		  [52.294027, 104.297419],
		  [52.294192, 104.297440],
		  [52.294364, 104.297473],
		  [52.294486, 104.297478],
		  [52.294618, 104.297467],
		  [52.294673, 104.297489],
		  [52.294772, 104.297537],
		  [52.294825, 104.297403],
		  [52.294812, 104.297312],
		  [52.294877, 104.297156],
		  [52.294970, 104.296995],
		  [52.295055, 104.296813],
		  [52.295127, 104.296550],
		  [52.295210, 104.296335],
		  [52.295289, 104.295987],
		  [52.295446, 104.295670],
		  [52.295558, 104.295402],
		  [52.295673, 104.295059],
		  [52.295782, 104.294839],
		  [52.295828, 104.294576],
		  [52.295927, 104.294345],
		  [52.296012, 104.294104],
		  [52.296131, 104.293878],
		  [52.296242, 104.293685],
		  [52.296423, 104.293626],
		  [52.296568, 104.293594],
		  [52.296713, 104.293777],
		  [52.296940, 104.294152],
		  [52.297124, 104.294479],
		  [52.297328, 104.294705],
		  [52.297420, 104.294925],
		  [52.297512, 104.295112],
		  [52.297630, 104.295262],
		  [52.297709, 104.295498],
		  [52.297752, 104.295729],
		  [52.297759, 104.295987],
		  [52.297732, 104.296292],
		  [52.297716, 104.296609],
		  [52.297663, 104.296813],
		  [52.297558, 104.297129],
		  [52.297443, 104.297387],
		  [52.297278, 104.297811],
		  [52.297167, 104.298068],
		  [52.297061, 104.298315],
		  [52.296986, 104.298492],
		  [52.296910, 104.298749],
		  [52.296841, 104.299012],
		  [52.296723, 104.299297],
		  [52.296663, 104.299565],
		  [52.296581, 104.299790],
		  [52.296519, 104.300015],
		  [52.296502, 104.300235],
		  [52.296407, 104.300450],
		  [52.296351, 104.300713],
		  [52.296315, 104.300927],
		  [52.296249, 104.301137],
		  [52.296302, 104.301297],
		  [52.296394, 104.301335],
		  [52.296430, 104.301474],
		  [52.296384, 104.301651],
		  [52.296357, 104.301767],
		  [52.296390, 104.301853],
		  [52.296348, 104.301941],
		  [52.296348, 104.301941],
		  [52.296348, 104.301941],
		  [52.296348, 104.301941],
		  [52.296348, 104.301941],
		  [52.296348, 104.301941],
		  [52.296348, 104.301941],
		  [52.296348, 104.301941],
		  [52.296348, 104.301941],
		  [52.296348, 104.301941],
		  [52.296348, 104.301941],
		  [52.296348, 104.301941],
		  [52.296348, 104.301941],
		  [52.296348, 104.301941],
		  [52.296348, 104.301941],
		  [52.296348, 104.301941],
		  
		  // машина 8
		  [52.252718, 104.364637],
		  [52.252843, 104.364631],
		  [52.252902, 104.364540],
		  [52.252915, 104.364353],
		  [52.252909, 104.364186],
		  [52.253017, 104.364149],
		  [52.253195, 104.364052],
		  [52.253389, 104.363902],
		  [52.253389, 104.363902],
		  [52.253389, 104.363902],
		  [52.253389, 104.363902],
		  [52.253389, 104.363902],
		  [52.253389, 104.363902],
		  [52.253389, 104.363902],
		  [52.253389, 104.363902],
		  [52.253389, 104.363902],
		  [52.253488, 104.363902],
		  [52.253465, 104.363773],
		  [52.253491, 104.363553],
		  [52.253478, 104.363360],
		  [52.253462, 104.363135],
		  [52.253481, 104.362808],
		  [52.253472, 104.362660],
		  [52.253442, 104.362437],
		  [52.253462, 104.362204],
		  [52.253453, 104.362059],
		  [52.253455, 104.361901],
		  [52.253458, 104.361694],
		  [52.253444, 104.361544],
		  [52.253439, 104.361365],
		  [52.253445, 104.361198],
		  [52.253437, 104.361008],
		  [52.253435, 104.360807],
		  [52.253430, 104.360619],
		  [52.253444, 104.360455],
		  [52.253435, 104.360273],
		  [52.253424, 104.360082],
		  [52.253427, 104.359895],
		  [52.253437, 104.359707],
		  [52.253425, 104.359519],
		  [52.253417, 104.359267],
		  [52.253425, 104.358991],
		  [52.253429, 104.358784],
		  [52.253412, 104.358575],
		  [52.253412, 104.358320],
		  [52.253414, 104.358103],
		  [52.253407, 104.357980],
		  [52.253417, 104.357811],
		  [52.253409, 104.357615],
		  [52.253402, 104.357462],
		  [52.253407, 104.357322],
		  [52.253406, 104.357170],
		  [52.253411, 104.357006],
		  [52.253399, 104.356880],
		  [52.253393, 104.356097],
		  [52.253394, 104.355582],
		  [52.253396, 104.355284],
		  [52.253394, 104.354879],
		  [52.253394, 104.354589],
		  [52.253399, 104.354273],
		  [52.253399, 104.354037],
		  [52.253399, 104.353790],
		  [52.253407, 104.353455],
		  [52.253393, 104.353127],
		  [52.253394, 104.352637],
		  [52.253383, 104.352309],
		  [52.253396, 104.352076],
		  [52.253399, 104.351837],
		  [52.253399, 104.351676],
		  [52.253399, 104.351676],
		  [52.253399, 104.351676],
		  [52.253399, 104.351676],
		  [52.253399, 104.351676],
		  [52.253399, 104.351676],
		  [52.253393, 104.351464],
		  [52.253396, 104.351312],
		  [52.253379, 104.351196],
		  [52.253394, 104.351035],
		  [52.253388, 104.350888],
		  [52.253388, 104.350732],
		  [52.253378, 104.350603],
		  [52.253376, 104.350467],
		  [52.253371, 104.350338],
		  [52.253371, 104.350056],
		  [52.253376, 104.349887],
		  [52.253373, 104.349718],
		  [52.253371, 104.349606],
		  [52.253360, 104.349399],
		  [52.253368, 104.349211],
		  [52.253366, 104.349075],
		  [52.253356, 104.348941],
		  [52.253360, 104.348627],
		  [52.253348, 104.347873],
		  [52.253360, 104.347318],
		  [52.253371, 104.346170],
		  [52.253358, 104.345486],
		  [52.253353, 104.345016],
		  [52.253371, 104.344397],
		  [52.253435, 104.343525],
		  [52.253509, 104.343383],
		  [52.253630, 104.343093],
		  [52.253881, 104.342254],
		  [52.253834, 104.341664],
		  [52.253748, 104.341267],
		  [52.253641, 104.340993],
		  [52.253503, 104.340824],
		  [52.253346, 104.340682],
		  [52.253165, 104.340695],
		  [52.252951, 104.340712],
		  [52.252760, 104.340687],
		  [52.252565, 104.340653],
		  [52.252410, 104.340567],
		  [52.252275, 104.340443],
		  [52.251992, 104.340105],
		  [52.251526, 104.339534],
		  [52.251156, 104.339048],
		  [52.250221, 104.337954],
		  [52.249365, 104.336774],
		  [52.248403, 104.335744],
		  [52.247587, 104.334607],
		  [52.246493, 104.333255],
		  [52.245387, 104.331924],
		  [52.244557, 104.331023],
		  [52.243872, 104.329843],
		  [52.242871, 104.328706],
		  [52.241883, 104.327440],
		  [52.240843, 104.326324],
		  [52.239842, 104.324972],
		  [52.238748, 104.323663],
		  [52.237958, 104.322783],
		  [52.237049, 104.321346],
		  [52.236403, 104.320702],
		  [52.235521, 104.319522],
		  [52.234704, 104.318470],
		  [52.233782, 104.317526],
		  [52.233057, 104.316775],
		  [52.232504, 104.316089],
		  [52.231726, 104.315080],
		  [52.231621, 104.313514],
		  [52.231898, 104.311776],
		  [52.232056, 104.310145],
		  [52.232293, 104.308815],
		  [52.232583, 104.307806],
		  [52.233215, 104.306304],
		  [52.234006, 104.304759],
		  [52.234374, 104.303386],
		  [52.234664, 104.301669],
		  [52.234915, 104.300167],
		  [52.235062, 104.298513],
		  [52.235339, 104.297633],
		  [52.235800, 104.297676],
		  [52.236287, 104.297998],
		  [52.236920, 104.298277],
		  [52.237170, 104.299049],
		  [52.237539, 104.299564],
		  [52.237763, 104.299972],
		  [52.238089, 104.300010],
		  [52.238194, 104.299388],
		  [52.238405, 104.299002],
		  [52.238431, 104.298358],
		  [52.238431, 104.298358],
		  [52.238431, 104.298358],
		  [52.238431, 104.298358],
		  [52.238431, 104.298358],
		  [52.238431, 104.298358],
		  [52.238431, 104.298358],
		  [52.238431, 104.298358],
		  [52.238431, 104.298358],
		  [52.238431, 104.298358],
		  [52.238431, 104.298358],
		  [52.238431, 104.298358],
		  [52.238431, 104.298358],
		  
		  // Машина 9
		  [52.280822, 104.353161],
		  [52.280822, 104.352286],
		  [52.280760, 104.351020],
		  [52.280757, 104.350446],
		  [52.280740, 104.350001],
		  [52.280720, 104.349545],
		  [52.280727, 104.349116],
		  [52.280717, 104.348574],
		  [52.280727, 104.348215],
		  [52.280678, 104.347882],
		  [52.280615, 104.347496],
		  [52.280523, 104.347185],
		  [52.280434, 104.346981],
		  [52.280339, 104.346745],
		  [52.280240, 104.346579],
		  [52.280148, 104.346353],
		  [52.280043, 104.346192],
		  [52.279941, 104.345892],
		  [52.279829, 104.345618],
		  [52.279740, 104.345398],
		  [52.279737, 104.345028],
		  [52.279740, 104.344680],
		  [52.279727, 104.344261],
		  [52.279740, 104.343880],
		  [52.279763, 104.343467],
		  [52.279750, 104.343108],
		  [52.279753, 104.342711],
		  [52.279766, 104.342352],
		  [52.279779, 104.341901],
		  [52.279766, 104.341600],
		  [52.279783, 104.341370],
		  [52.279776, 104.341257],
		  [52.279776, 104.341257],
		  [52.279776, 104.341257],
		  [52.279776, 104.341257],
		  [52.279776, 104.341257],
		  [52.279776, 104.341257],
		  [52.279776, 104.341257],
		  [52.279776, 104.341257],
		  [52.279789, 104.340967],
		  [52.279789, 104.340710],
		  [52.279796, 104.340093],
		  [52.279809, 104.339541],
		  [52.279819, 104.339026],
		  [52.279819, 104.338596],
		  [52.279819, 104.338124],
		  [52.279812, 104.337625],
		  [52.279825, 104.337159],
		  [52.279835, 104.336724],
		  [52.279848, 104.336215],
		  [52.279835, 104.335812],
		  [52.279845, 104.335308],
		  [52.279865, 104.334782],
		  [52.279865, 104.334439],
		  [52.279868, 104.333935],
		  [52.279868, 104.333484],
		  [52.279865, 104.333023],
		  [52.279875, 104.332690],
		  [52.279862, 104.332336],
		  [52.279898, 104.331789],
		  [52.279901, 104.331360],
		  [52.279914, 104.330963],
		  [52.279917, 104.330518],
		  [52.279911, 104.329976],
		  [52.279901, 104.329724],
		  [52.279924, 104.329273],
		  [52.279947, 104.328806],
		  [52.279954, 104.328313],
		  [52.279950, 104.327878],
		  [52.279937, 104.327481],
		  [52.279967, 104.327165],
		  [52.279944, 104.326864],
		  [52.279950, 104.326451],
		  [52.279977, 104.326028],
		  [52.279973, 104.325647],
		  [52.279967, 104.325303],
		  [52.279957, 104.324874],
		  [52.279980, 104.324429],
		  [52.280003, 104.324064],
		  [52.279964, 104.323775],
		  [52.279950, 104.323442],
		  [52.279908, 104.323131],
		  [52.279832, 104.322771],
		  [52.279786, 104.322439],
		  [52.279694, 104.322079],
		  [52.279631, 104.321591],
		  [52.279575, 104.321280],
		  [52.279516, 104.320974],
		  [52.279457, 104.320776],
		  [52.279404, 104.320465],
		  [52.279345, 104.320121],
		  [52.279273, 104.319724],
		  [52.279204, 104.319354],
		  [52.279118, 104.318979],
		  [52.279029, 104.318501],
		  [52.278973, 104.318078],
		  [52.278894, 104.317766],
		  [52.278845, 104.317418],
		  [52.278792, 104.317031],
		  [52.278720, 104.316624],
		  [52.278638, 104.316168],
		  [52.278549, 104.315637],
		  [52.278460, 104.315250],
		  [52.278404, 104.314843],
		  [52.278351, 104.314580],
		  [52.278309, 104.314365],
		  [52.278253, 104.314006],
		  [52.278193, 104.313609],
		  [52.278114, 104.313233],
		  [52.278062, 104.312869],
		  [52.277983, 104.312440],
		  [52.277950, 104.312102],
		  [52.277901, 104.311914],
		  [52.277805, 104.311345],
		  [52.277726, 104.310884],
		  [52.277644, 104.310401],
		  [52.277581, 104.310036],
		  [52.277509, 104.309602],
		  [52.277440, 104.309205],
		  [52.277354, 104.308797],
		  [52.277315, 104.308448],
		  [52.277252, 104.308046],
		  [52.277163, 104.307617],
		  [52.277094, 104.307279],
		  [52.277048, 104.306925],
		  [52.276969, 104.306608],
		  [52.276927, 104.306260],
		  [52.276821, 104.305739],
		  [52.276742, 104.305289],
		  [52.276647, 104.304951],
		  [52.276598, 104.304538],
		  [52.276525, 104.304221],
		  [52.276482, 104.303937],
		  [52.276417, 104.303755],
		  [52.276389, 104.303545],
		  [52.276232, 104.303561],
		  [52.276127, 104.303620],
		  [52.275893, 104.303781],
		  [52.275663, 104.303830],
		  [52.275495, 104.303958],
		  [52.275495, 104.303958],
		  [52.275495, 104.303958],
		  [52.275495, 104.303958],
		  [52.275495, 104.303958],
		  [52.275495, 104.303958],
		  [52.275495, 104.303958],
		  [52.275324, 104.303443],
		  [52.275209, 104.302961],
		  [52.275156, 104.302590],
		  [52.275051, 104.302092],
		  [52.274939, 104.301523],
		  [52.274860, 104.301244],
		  [52.274801, 104.301062],
		  [52.274656, 104.301104],
		  [52.274488, 104.301174],
		  [52.274378, 104.301249],
		  [52.274269, 104.301239],
		  [52.274253, 104.301059],
		  [52.274212, 104.300831],
		  [52.274156, 104.300555],
		  [52.274192, 104.300150],
		  [52.274222, 104.300013],
		  [52.274233, 104.299755],
		  [52.274233, 104.299755],
		  [52.274233, 104.299755],
		  [52.274233, 104.299755],
		  [52.274233, 104.299755],
		  [52.274233, 104.299755],
		  [52.274233, 104.299755],
		  [52.274233, 104.299755],
		  [52.274233, 104.299755],
		  [52.274233, 104.299755],
		  
		  // машина 10
		  [52.269035, 104.305987],
		  [52.269292, 104.305558],
		  [52.269410, 104.305301],
		  [52.269542, 104.305558],
		  [52.269719, 104.305880],
		  [52.269904, 104.306170],
		  [52.270121, 104.306492],
		  [52.270226, 104.306749],
		  [52.270364, 104.307071],
		  [52.270167, 104.307157],
		  [52.269937, 104.307318],
		  [52.269654, 104.307436],
		  [52.269487, 104.307583],
		  [52.269334, 104.307696],
		  [52.269081, 104.307870],
		  [52.268971, 104.307766],
		  [52.268941, 104.307479],
		  [52.268829, 104.307200],
		  [52.268744, 104.306588],
		  [52.268599, 104.306052],
		  [52.268394, 104.305254],
		  [52.268309, 104.304760],
		  [52.268240, 104.304352],
		  [52.268108, 104.303880],
		  [52.268016, 104.303419],
		  [52.267966, 104.303167],
		  [52.267930, 104.302995],
		  [52.267878, 104.302727],
		  [52.267812, 104.302432],
		  [52.267736, 104.302089],
		  [52.267657, 104.301686],
		  [52.267591, 104.301311],
		  [52.267565, 104.300978],
		  [52.267516, 104.300603],
		  [52.267529, 104.300184],
		  [52.267529, 104.299717],
		  [52.267542, 104.299288],
		  [52.267568, 104.298924],
		  [52.267588, 104.298516],
		  [52.267611, 104.298130],
		  [52.267611, 104.297818],
		  [52.267611, 104.297502],
		  [52.267641, 104.297180],
		  [52.267660, 104.296713],
		  [52.267723, 104.296349],
		  [52.267743, 104.295812],
		  [52.267759, 104.295362],
		  [52.267733, 104.294922],
		  [52.267713, 104.294546],
		  [52.267670, 104.294122],
		  [52.267588, 104.293677],
		  [52.267489, 104.293205],
		  [52.267361, 104.292744],
		  [52.267236, 104.292272],
		  [52.266933, 104.291714],
		  [52.266709, 104.291199],
		  [52.266367, 104.290727],
		  [52.266183, 104.290405],
		  [52.265761, 104.289740],
		  [52.265037, 104.288838],
		  [52.264445, 104.287980],
		  [52.263800, 104.287079],
		  [52.263062, 104.285985],
		  [52.262193, 104.284697],
		  [52.261469, 104.283710],
		  [52.260745, 104.282680],
		  [52.260218, 104.281865],
		  [52.259494, 104.280921],
		  [52.258836, 104.279891],
		  [52.258296, 104.279161],
		  [52.257756, 104.278346],
		  [52.257203, 104.277723],
		  [52.256834, 104.277058],
		  [52.256308, 104.276329],
		  [52.255715, 104.275406],
		  [52.255333, 104.274869],
		  [52.254833, 104.273711],
		  [52.254477, 104.272745],
		  [52.254306, 104.271179],
		  [52.254227, 104.269934],
		  [52.254425, 104.268539],
		  [52.254622, 104.266909],
		  [52.254714, 104.265450],
		  [52.254727, 104.263883],
		  [52.254872, 104.261909],
		  [52.254793, 104.260042],
		  [52.254872, 104.258776],
		  [52.254912, 104.257188],
		  [52.255123, 104.256137],
		  [52.255373, 104.255279],
		  [52.255702, 104.254485],
		  [52.255992, 104.253734],
		  [52.256120, 104.253551],
		  [52.256018, 104.252940],
		  [52.255843, 104.252189],
		  [52.255725, 104.251711],
		  [52.255574, 104.251110],
		  [52.255462, 104.250622],
		  [52.255310, 104.250043],
		  [52.255076, 104.249506],
		  [52.254833, 104.249136],
		  [52.254576, 104.248793],
		  [52.254283, 104.248519],
		  [52.254076, 104.248358],
		  [52.254076, 104.248358],
		  [52.254283, 104.248519],
		  [52.254576, 104.248793],
		  [52.254833, 104.249136],
		  [52.255076, 104.249506],
		  [52.255310, 104.250043],
		  [52.255462, 104.250622],
		  [52.255574, 104.251110],
		  [52.255725, 104.251711],
		  [52.255843, 104.252189],
		  [52.256018, 104.252940],
		  [52.256120, 104.253551],
		  [52.255992, 104.253734],
		  [52.255702, 104.254485],
		  [52.255373, 104.255279],
		  [52.255123, 104.256137],
		  [52.254912, 104.257188],
		  [52.254872, 104.258776],
		  [52.254793, 104.260042],
		  [52.254872, 104.261909],
		  [52.254727, 104.263883],
		  [52.254714, 104.265450],
		  [52.254622, 104.266909],
		  [52.254425, 104.268539],
		  [52.254227, 104.269934],
		  [52.254306, 104.271179],
		  [52.254477, 104.272745],
		  [52.254833, 104.273711],
		  [52.255333, 104.274869],
		  [52.255715, 104.275406],
		  [52.256308, 104.276329],
		  [52.256834, 104.277058],
		  [52.257203, 104.277723],
		  [52.257756, 104.278346],
		  [52.258296, 104.279161],
		  [52.258836, 104.279891],
		  [52.259494, 104.280921],
		  [52.260218, 104.281865],
		  [52.260745, 104.282680],
		  [52.261469, 104.283710],
		  [52.262193, 104.284697],
		  [52.263062, 104.285985],
		  [52.263800, 104.287079],
		  [52.264445, 104.287980],
		  [52.265037, 104.288838],
		  [52.265761, 104.289740],
		  [52.266183, 104.290405],
		  [52.266367, 104.290727],
		  [52.266709, 104.291199],
		  [52.266933, 104.291714],
		  [52.267236, 104.292272],
		  [52.267361, 104.292744],
		  [52.267489, 104.293205],
		  [52.267588, 104.293677],
		  [52.267670, 104.294122],
		  [52.267713, 104.294546],
		  [52.267733, 104.294922],
		  [52.267759, 104.295362],
		  [52.267743, 104.295812],
		  [52.267723, 104.296349],
		  [52.267660, 104.296713],
		  [52.267641, 104.297180],
		  [52.267611, 104.297502],
		  [52.267611, 104.297818],
		  [52.267611, 104.298130],
		  [52.267588, 104.298516],
		  [52.267568, 104.298924],
		  [52.267542, 104.299288]
	  ];
	  
	  //alert( "тик" );
	  s--;
	  try {
		  for (var i = 0; i < metka.length; i++) {
		
		  	var rotate = angleBetweenTwoVectors(car[s+172*i], car[(s+172*i)-1]);
		  	var sign = rotate > 0 ? '' : '-';
		  	rotate = rotate > 0 ? rotate : -rotate;
		  	
		  	rotate = Math.round(rotate/15)*15;
		  	
		  	if (metka[i]) {
			  metka[i].geometry.setCoordinates(car[s+172*i]);
			  metka[i].options.set('iconImageHref', 'cars/car' + sign + '' + rotate + '.png')
			}
			// Если нет – создаем.
			else {
				var pm= createPlacemarkCar(car[s+172*i], sign, rotate);
			  	metka[i] = pm;
			  	mapOutside.geoObjects.add(pm);
			}
		  	
			/*var pm= createPlacemarkCar(car[s+172*i], sign, rotate);
		  	mapOutside.geoObjects.add(pm);
		  	if (metka[i])
			  	mapOutside.geoObjects.remove(metka[i]);
		  	metka[i] = pm;*/
		  }
	  } catch (err) {}
}

/*var metkiForDelete;
mapOutside.geoObjects.event.add('add', function(e) {
	
})*/

var s = 172;
var metka = [undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined];
setInterval(carsDriver, 1000);

//Функция для вычисления угла, на который нужно повернуть картику. Принимает в качестве аргументов две смежные точки маршрута
var angleBetweenTwoVectors = function(vector1, vector2) {
	if (vector1 == vector2)
		return 0;
	
	var v1 = vector1;
	var v2 = vector2;

	var ab = [v2[0]-v1[0], v2[1]-v1[1]];
	var an = [v2[0]-v1[0]+1, v2[1]-v1[1]];
	var n = [v1[0]+1, v1[1]];
	var an_perp = [an[1], an[0]];
	var sign =  ((ab[0]*an_perp[0]+ab[1]*an_perp[1]) < 0 ? -1 : 1);
	
	vector1 = [v2[0]-v1[0], v2[1]-v1[1]];
	vector2 = [v2[0]-v1[0]+1, v2[1]-v1[1]];
	
	// скалярное произведение векторов
    var scalMultVectors = vector1.reduce(function(sum, current, i) {
        return sum + (current * vector2[i])
    }, 0);
    // модуль вектора равен квадратному корню из суммы квадратов его координат
    var moduleVector = function(v) {
        // Находим квадраты слагаемых
        var step1 = v.map(function(currentValue) {
            return Math.pow(currentValue, 2)
        });
        // Складываем их
        var step2 = step1.reduce(function(sum, current) {
            return sum + current
        });
        // Вычисляем квадратный корень
        return Math.sqrt(step2, 2)
    };
    // Вычисляем косинус угла между векторами
    var cosA = scalMultVectors / (moduleVector(vector1) * moduleVector(vector2));
    console.log("cos(" + cosA + ")");
    return Math.acos(cosA)*(180/3.1415)*sign;

}

// test
var v1 = [52.287572, 104.282747];
var v2 = [52.287486, 104.282753];
console.log((angleBetweenTwoVectors(v1, v2)));

/*function qwe() {
	  alert( 'Привет' );
	}
setInterval(qwe(), 1000);*/